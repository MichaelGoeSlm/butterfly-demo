<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Butterfly Drift</title>
  <style>
    :root {
      --ink: #1b1a17;
      --sky-1: #f6f1e7;
      --sky-2: #d4e8f2;
      --sky-3: #f9d8c6;
      --leaf-1: #8ccf9a;
      --leaf-2: #5a9f6f;
      --glow: rgba(255, 255, 255, 0.6);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      font-family: "Fraunces", "Georgia", serif;
      color: var(--ink);
      background:
        radial-gradient(1200px 600px at 80% 10%, rgba(255,255,255,0.6), transparent 60%),
        radial-gradient(900px 500px at 10% 80%, rgba(255,255,255,0.55), transparent 60%),
        linear-gradient(135deg, var(--sky-1), var(--sky-2) 45%, var(--sky-3));
    }

    .grain {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0.2;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="1"/></filter><rect width="160" height="160" filter="url(%23n)" opacity="0.25"/></svg>');
      mix-blend-mode: soft-light;
    }

    .scene {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .butterfly {
      position: absolute;
      width: 120px;
      height: 100px;
      transform-origin: center;
      filter: drop-shadow(0 14px 20px rgba(0,0,0,0.2));
      animation: bob 6s ease-in-out infinite;
      will-change: transform;
    }

    .body {
      position: absolute;
      left: 50%;
      top: 22%;
      width: 18px;
      height: 62px;
      background: linear-gradient(180deg, #4b3b2f, #1f1a17 70%);
      border-radius: 20px;
      transform: translateX(-50%);
      z-index: 3;
    }

    .body::before,
    .body::after {
      content: "";
      position: absolute;
      top: -10px;
      width: 22px;
      height: 30px;
      border: 2px solid #2c2623;
      border-bottom: none;
      border-radius: 50% 50% 0 0;
    }

    .body::before { left: -20px; transform: rotate(-18deg); }
    .body::after { right: -20px; transform: rotate(18deg); }

    .wing {
      position: absolute;
      width: 70px;
      height: 90px;
      top: 5px;
      border-radius: 60% 40% 60% 40%;
      transform-origin: 100% 60%;
      background:
        radial-gradient(40px 40px at 70% 40%, rgba(255,255,255,0.6), transparent 60%),
        radial-gradient(55px 40px at 40% 65%, rgba(255,255,255,0.35), transparent 60%),
        linear-gradient(140deg, #ffb347, #ff6f91 45%, #845ec2 80%);
      box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
      animation: flap-left 0.9s ease-in-out infinite;
    }

    .wing.right {
      right: 5px;
      transform-origin: 0% 60%;
      background:
        radial-gradient(40px 40px at 30% 40%, rgba(255,255,255,0.55), transparent 60%),
        radial-gradient(55px 40px at 60% 65%, rgba(255,255,255,0.35), transparent 60%),
        linear-gradient(220deg, #ffd56b, #ff8fab 50%, #6b8ee6 80%);
      animation: flap-right 0.9s ease-in-out infinite;
    }

    .wing::after {
      content: "";
      position: absolute;
      inset: 8px 10px 18px 12px;
      border-radius: 50% 40% 55% 45%;
      border: 1px solid rgba(255,255,255,0.45);
      opacity: 0.8;
    }

    .trail {
      position: absolute;
      inset: -40% -40% -40% -40%;
      background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.35), transparent 60%);
      filter: blur(12px);
      opacity: 0.4;
      pointer-events: none;
      animation: shimmer 5s ease-in-out infinite;
    }

    .title {
      position: absolute;
      left: 6vw;
      bottom: 6vh;
      max-width: 320px;
      padding: 18px 22px;
      background: rgba(255,255,255,0.65);
      backdrop-filter: blur(12px);
      border-radius: 18px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.12);
      line-height: 1.3;
    }

    .title h1 {
      font-size: clamp(1.6rem, 2vw + 1rem, 2.5rem);
      margin: 0 0 8px 0;
      letter-spacing: 0.02em;
    }

    .title p {
      margin: 0;
      font-size: 0.95rem;
      font-family: "Assistant", "Helvetica", sans-serif;
    }

    .leaf {
      position: absolute;
      width: 200px;
      height: 200px;
      background: radial-gradient(circle at 40% 40%, rgba(255,255,255,0.4), transparent 60%),
        linear-gradient(140deg, var(--leaf-1), var(--leaf-2));
      border-radius: 55% 45% 60% 40%;
      opacity: 0.5;
      filter: blur(2px);
    }

    .leaf.one { right: -40px; bottom: -20px; transform: rotate(25deg); }
    .leaf.two { left: -80px; top: 10%; transform: rotate(-35deg); }

    @keyframes flap-left {
      0%, 100% { transform: translateX(10px) rotateY(0deg) rotateZ(2deg); }
      50% { transform: translateX(0) rotateY(35deg) rotateZ(-6deg); }
    }

    @keyframes flap-right {
      0%, 100% { transform: translateX(-10px) rotateY(0deg) rotateZ(-2deg); }
      50% { transform: translateX(0) rotateY(-35deg) rotateZ(6deg); }
    }

    @keyframes bob {
      0%, 100% { transform: translate3d(0, 0, 0) rotate(2deg); }
      50% { transform: translate3d(0, -6px, 0) rotate(-2deg); }
    }

    @keyframes shimmer {
      0%, 100% { opacity: 0.3; transform: scale(0.95); }
      50% { opacity: 0.55; transform: scale(1.05); }
    }
  </style>
</head>
<body>
  <div class="scene" id="scene">
    <div class="leaf one"></div>
    <div class="leaf two"></div>
    <div class="butterfly" id="butterfly">
      <div class="trail"></div>
      <div class="wing left"></div>
      <div class="wing right"></div>
      <div class="body"></div>
    </div>
    <div class="title">
      <h1>Butterfly Drift</h1>
      <p>A soft, wandering flight through a warm spring sky.</p>
    </div>
  </div>
  <div class="grain"></div>

  <script>
    const butterfly = document.getElementById('butterfly');
    const scene = document.getElementById('scene');

    const state = {
      x: window.innerWidth * 0.4,
      y: window.innerHeight * 0.4,
      vx: 0,
      vy: 0,
      t: 0,
      target: { x: window.innerWidth * 0.6, y: window.innerHeight * 0.4 },
      lastTarget: 0,
      maxSpeed: 120
    };

    function pickTarget() {
      const padding = 80;
      state.target.x = padding + Math.random() * (window.innerWidth - padding * 2);
      state.target.y = padding + Math.random() * (window.innerHeight - padding * 2);
      state.lastTarget = performance.now();
    }

    function step(time) {
      const dt = Math.min(0.03, (time - state.t) / 1000 || 0.016);
      state.t = time;

      if (time - state.lastTarget > 1400 + Math.random() * 1800) {
        pickTarget();
      }

      const dx = state.target.x - state.x;
      const dy = state.target.y - state.y;
      const dist = Math.hypot(dx, dy) || 1;

      const desiredVx = (dx / dist) * state.maxSpeed;
      const desiredVy = (dy / dist) * state.maxSpeed;

      const ease = 0.04 + Math.random() * 0.02;
      state.vx += (desiredVx - state.vx) * ease;
      state.vy += (desiredVy - state.vy) * ease;

      const drift = Math.sin(time / 400) * 14;
      const sway = Math.cos(time / 600) * 12;

      state.x += (state.vx + drift) * dt;
      state.y += (state.vy + sway) * dt;

      const tilt = Math.atan2(state.vy, state.vx) * (180 / Math.PI);
      const flapBoost = Math.sin(time / 180) * 6;

      butterfly.style.transform = `translate3d(${state.x}px, ${state.y}px, 0) rotate(${tilt + flapBoost}deg)`;

      requestAnimationFrame(step);
    }

    window.addEventListener('resize', () => {
      state.x = Math.min(state.x, window.innerWidth - 120);
      state.y = Math.min(state.y, window.innerHeight - 100);
      pickTarget();
    });

    pickTarget();
    requestAnimationFrame(step);
  </script>
</body>
</html>
